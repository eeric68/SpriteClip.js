{"name":"Spriteclip.js","tagline":"Frame-by-frame animations in JS made easy by using an interface similar to AS3's MovieClip","body":"SpriteClip.js\r\n====\r\n\r\nFrame-by-frame animations in JS made easy by using an interface similar to AS3's MovieClip.\r\n\r\n\r\nOverview:\r\n-------------\r\nSpriteClip.js is a jQuery plugin that makes it easy to make snazzy frame-by-frame animations like <a href=\"http://moredots.dk/projects/spriteclip/demos/demo1.html\" target=\"_blank\">this</a> by emulating the functionality of the MovieClip class in ActionScript 3.0.\r\n\r\nIt works by animating the background-image property of a dom node where the \"frames\" are spaced out equally. Eg. if the sprite is laid out horizontally and each frame is 20px wide, frame 1 will be at background-position: 0 0 and frame 2 will be at background-position: -20px 0\r\n\r\nOnce instantiated, you get access to an instance with familiar methods, properties and events like:\r\n\r\n\tclip.play();\r\n\tclip.stop();\r\n\tclip.gotoAndPlay();\r\n\tclip.gotoAndStop();\r\n\tclip.nextFrame();\r\n\tclip.prevFrame();\r\n\r\n\tclip.currentFrame\r\n\tclip.totalFrames\r\n\tclip.frameRate\r\n\r\n\tSpriteClip.Event.ENTER_FRAME (dispatched through clip.$dispatcher)\r\n\r\n.. Plus extra sugar like:\r\n\t\r\n\tclip.playtoAndStop();\r\n\tclip.gotoAndRewind();\r\n\tclip.rewind();\r\n\tclip.rewindtoAndStop();\r\n\r\n\tclip.isPlaying\r\n\r\n\tSpriteClip.Event.PLAYING (dispatched through clip.$dispatcher)\r\n\tSpriteClip.Event.STOPPED (dispatched through clip.$dispatcher)\r\n\r\n\r\nBackground:\r\n-------------\r\nThe project was inspired by the neat rollovers on <a href=\"http://rallyinteractive.com\" target=\"_blank\">http://rallyinteractive.com</a>, that prompted me to think that the reason that you almost never see these awesome yet relatively simple animations that were so common in the flash days, must be that the tools for creating them in Javascript were none existant.\r\n\r\nI thought that a MovieClip class in Javascript would be a great base as that is the very first class you learn to work with in Flash and hence the learning curve would be flat for as many developers as possible. That is also why I have aimed to make an interface that is as consistent with the flash interface as possible and only added a few commonly used methods and properties like rewind() and isPlaying. Further additions can then easily be made in an class that inherits from SpriteClip.\r\n\r\n\r\nInstantiation:\r\n-----------\r\nThe SpriteClip object is exposed as a jQuery plugin but all logic is kept in a classic object. This means that you can choose to instantiate either via the plugin or via the SpriteClip constructor. \r\n\r\nIf you instantiate via the plugin, the instance is stored in the jQuery elements data-spriteClip attribute so that later, it can easily be retrieved through the DOM. Note the lowercase s.\r\n\r\n\tvar options = {\r\n\t        totalFrames: 6, \t\t//Required - the number of frames in the sprite\r\n\t        frameRate: 30, \t\t\t//Optional - the framerate the clip should play at\r\n\t        frameWidth: 35, \t\t//Optional - width of each frame - defaults to elements width + padding - border\r\n\t        frameHeight: 100, \t\t//Optional - height of each frame - defaults to elements height + padding - border\r\n\t        layout: \"horizontal\", \t//Optional - the layout of the sprite - \"horizontal\" or \"vertical\"\r\n\t        stops: [] \t\t\t\t//Optional - an array of frames to always stop at - can be set with the stops method\r\n\t     },\r\n\t     clip;\r\n\t \r\n\t//Call the plugin\r\n\t$(\"#domElement\").spriteClip(options);\r\n\tclip = $(\"#domElement\").data(\"spriteClip\");\r\n\t \r\n\t//Equivalent to:\r\n\tclip = new SpriteClip(document.getElementById(\"domElement\"), options);\r\n\r\n\r\nEvents:\r\n-----------\r\nEach instance HAS an eventdispatcher attached instead of BEING an eventdispatcher. This means that you subscribe to the instance's events through it's $dispatcher property. The $dispatcher is nothing but a dummy jQuery element that isn't attached to the DOM, which we use because jQuery has a great event system built in with methods like .on(), .off(), .trigger() and .triggerHandler() \r\n\t\r\n\t//Events that can be subscribed to are ENTER_FRAME, STOPPED and PLAYING\r\n\tclip.$dispatcher.on(SpriteClip.Event.ENTER_FRAME, function(e, clip) {\r\n\t\t//Stuff that should be done every time a new frame is shown\r\n\t});\r\n\r\n\r\n\r\nDemos:\r\n-----------\r\n- Detailed API demo: <a href=\"http://moredots.dk/projects/spriteclip/demos/apidemo.html\" target=\"_blank\">moredots.dk/projects/spriteclip/demos/apidemo.html</a>\r\n- The rallyinteractive rollovers implemented in spriteclip.js: <a href=\"http://moredots.dk/projects/spriteclip/demos/demo1.html\" target=\"_blank\">moredots.dk/projects/spriteclip/demos/demo1.html</a>\r\n\r\n\r\n\r\nPerformance:\r\n-----------\r\n- Only 1 timeout pr. frameRate:\r\nWhen a clip is played/stopped, it is registered/unregistered in a central timeout manager, which is responsible for updating all playing clips. This means that if we have 5 clips playing at 20 fps, and 5 at 30 fps, only 2 timeouts are running. One every 20th of a second and one every 30th.\r\n- Cached frame positions:\r\nIn 1.06, all background-positions are cached on instantiation, so we don't need to calculate before entering a new frame. This dramatically increases performance. Inspired by Jeremy Petrequin's jsMovieclip\r\n\r\n\r\n\r\nSupport:\r\n-----------\r\nIE6+ and all modern browsers.\r\njQuery 1.6+\r\n\r\n\r\nBuilding:\r\n-----------\r\nFirst, clone a copy of the SpriteClip git repo by running:\r\n\r\n\tgit clone git://github.com/wolthers/SpriteClip.js.git\r\n\r\nInstall the grunt-cli package so that you will have the correct version of grunt available from any project that needs it. This should be done as a global install:\r\n\r\n\tnpm install -g grunt-cli\r\n\r\nEnter the SpriteClip directory and install the Node dependencies, this time without specifying a global install:\r\n\r\n\tcd {SpriteClip directory} && npm install\r\n\r\nMake sure you have grunt installed by testing:\r\n\r\n\tgrunt -version\r\n\r\nThen, to get a complete, uglifyed, concatenated version of SpriteClip, type the following:\r\n\r\n\tgrunt\r\n\r\nThe concatenated version of SpriteClip will be put in the dist/ subdirectory, along with the uglifyed version.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}